IF NOT EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'Teacher')
BEGIN
    CREATE TABLE Teacher (
        Id UNIQUEIDENTIFIER PRIMARY KEY DEFAULT NEWID(),
        FirstName NVARCHAR(50) NOT NULL,
        LastName NVARCHAR(50),
        ContactNo NVARCHAR(20) NOT NULL,
        Email NVARCHAR(100) NOT NULL,
        CreatedDate DATETIME NOT NULL,
        LastUpdatedDate DATETIME,
        IsActive BIT NOT NULL DEFAULT 1
    );
END

IF NOT EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'ClassRoom')
BEGIN
    CREATE TABLE ClassRoom (
        Id UNIQUEIDENTIFIER PRIMARY KEY DEFAULT NEWID(),
        Name NVARCHAR(50) NOT NULL,
        CreatedDateTime DATETIME NOT NULL,
        LastUpdatedDateTime DATETIME,
        IsActive BIT NOT NULL DEFAULT 1
    );
END

IF NOT EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'Subject')
BEGIN
    CREATE TABLE Subject (
        Id UNIQUEIDENTIFIER PRIMARY KEY DEFAULT NEWID(),
        Name NVARCHAR(50) NOT NULL,
        CreatedDateTime DATETIME NOT NULL,
        LastUpdatedDateTime DATETIME,
        IsActive BIT NOT NULL DEFAULT 1
    );
END


IF NOT EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'Student')
BEGIN
    CREATE TABLE Student (
        Id UNIQUEIDENTIFIER PRIMARY KEY DEFAULT NEWID(),
        FirstName NVARCHAR(50) NOT NULL,
        LastName NVARCHAR(50) NOT NULL,
        ContactPerson NVARCHAR(50) NOT NULL,
        ContactNo NVARCHAR(20) NOT NULL,
        Email NVARCHAR(100) NOT NULL,
        DOB DATE NOT NULL,
        ClassRoomId UNIQUEIDENTIFIER FOREIGN KEY REFERENCES ClassRoom(Id) NOT NULL,
        CreatedDateTime DATETIME NOT NULL,
        LastUpdatedDateTime DATETIME,
        IsActive BIT NOT NULL DEFAULT 1
    );
END

IF NOT EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AllocatedSubject')
BEGIN
    CREATE TABLE AllocatedSubject (
        Id UNIQUEIDENTIFIER PRIMARY KEY DEFAULT NEWID(),
        TeacherId UNIQUEIDENTIFIER FOREIGN KEY REFERENCES Teacher(Id) NOT NULL,
        SubjectId UNIQUEIDENTIFIER FOREIGN KEY REFERENCES Subject(Id) NOT NULL,
        CreatedDateTime DATETIME NOT NULL
    );
END

IF NOT EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'AllocatedClassRoom')
BEGIN
    CREATE TABLE AllocatedClassRoom (
        Id UNIQUEIDENTIFIER PRIMARY KEY DEFAULT NEWID(),
        TeacherId UNIQUEIDENTIFIER FOREIGN KEY REFERENCES Teacher(Id) NOT NULL,
        ClassRoomId UNIQUEIDENTIFIER FOREIGN KEY REFERENCES ClassRoom(Id) NOT NULL,
        CreatedDateTime DATETIME NOT NULL
    );
END

